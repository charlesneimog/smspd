#N canvas 84 149 913 768 10;
#X declare -lib sms;
#X obj 213 393 smsbuf \$0-blarg;
#X obj 448 322 smssynth~ \$0-blarg;
#X msg 283 285 info;
#X floatatom 458 199 5 0 0 0 - - - 0;
#X msg 518 249 stocgain \$1;
#X floatatom 518 229 5 0 0 0 - - - 0;
#X msg 503 199 transpose \$1;
#X floatatom 503 180 5 0 0 0 - - - 0;
#X obj 15 274 smsanal \$0-blarg;
#X floatatom 290 314 5 0 0 0 - - - 0;
#X msg 290 335 printframe \$1;
#N canvas 250 596 450 300 wavetable 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array audiobuf 44361 float 2;
#X coords 0 1 44361 -1 200 140 1;
#X restore 237 144 graph;
#X obj 36 143 soundfiler;
#X floatatom 36 166 0 0 0 0 - - - 0;
#X msg 59 103 read -resize ../../test/audio/flugel.wav audiobuf;
#X text 63 6 PD BUG: if array contents is stored in the patch and then analyzed \, everything crashes...;
#X msg 36 75 read -resize \$1 audiobuf;
#X obj 36 52 openpanel;
#X obj 36 35 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X restore 14 331 pd wavetable;
#X msg 34 187 array audiobuf 28800;
#N canvas 871 58 450 900 analysis_params 0;
#X msg 39 49 debug \$1;
#X obj 39 1065 outlet;
#X obj 39 33 hradio 13 1 0 13 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X obj 52 113 hradio 13 1 0 2 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X obj 46 73 hradio 13 1 0 4 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 46 89 format \$1;
#X msg 52 129 soundtype \$1;
#X obj 57 152 hradio 13 1 0 2 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 57 168 direction \$1;
#X msg 64 209 windowsize \$1;
#X floatatom 64 190 5 3 7 0 - - - 0;
#X msg 70 253 windowtype \$1;
#X floatatom 77 274 5 50 600 0 - - - 0;
#X msg 77 293 framerate \$1;
#X obj 70 233 hradio 13 1 0 5 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X msg 83 336 highestfreq \$1;
#X msg 92 380 minpeakmag \$1;
#X msg 103 464 minrefharmmag \$1;
#X msg 109 505 refharmdifffrommax \$1;
#X msg 114 545 defaultfund \$1;
#X msg 98 422 refharmonic \$1;
#X msg 122 585 lowestfund \$1;
#X msg 126 625 highestfund \$1;
#X msg 132 665 nguides \$1;
#X msg 137 705 ntracks \$1;
#X msg 142 744 freqdeviation \$1;
#X msg 146 782 peakcontribution \$1;
#X msg 150 820 fundcontribution \$1;
#X msg 154 857 cleantracks \$1;
#X msg 160 895 mintracklength \$1;
#X msg 164 935 maxsleepingtime \$1;
#X msg 164 975 stochastictype \$1;
#X msg 165 1014 ncoefficients \$1;
#X floatatom 83 314 5 20 22500 0 - - - 0;
#X floatatom 92 359 5 0 20 0 - - - 0;
#X floatatom 98 401 5 0 100 0 - - - 0;
#X floatatom 103 444 5 5 60 0 - - - 0;
#X floatatom 109 485 5 5 60 0 - - - 0;
#X floatatom 114 526 5 20 5000 0 - - - 0;
#X floatatom 122 566 5 20 5000 0 - - - 0;
#X floatatom 126 606 5 20 5000 0 - - - 0;
#X floatatom 132 645 5 1 500 0 - - - 0;
#X floatatom 137 686 5 1 500 0 - - - 0;
#X floatatom 142 725 5 0.1 0.5 0 - - - 0;
#X floatatom 146 764 5 0 1 0 - - - 0;
#X floatatom 150 802 5 0 1 0 - - - 0;
#X obj 154 840 hradio 13 1 0 2 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X floatatom 160 877 5 0 10 0 - - - 0;
#X floatatom 164 916 5 0 0.5 0 - - - 0;
#X obj 164 959 hradio 13 1 0 3 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X floatatom 165 996 5 4 1028 0 - - - 0;
#X text 62 5 These are documented in the smsAnal manpage;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 1 0;
#X connect 12 0 13 0;
#X connect 13 0 1 0;
#X connect 14 0 11 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X connect 19 0 1 0;
#X connect 20 0 1 0;
#X connect 21 0 1 0;
#X connect 22 0 1 0;
#X connect 23 0 1 0;
#X connect 24 0 1 0;
#X connect 25 0 1 0;
#X connect 26 0 1 0;
#X connect 27 0 1 0;
#X connect 28 0 1 0;
#X connect 29 0 1 0;
#X connect 30 0 1 0;
#X connect 31 0 1 0;
#X connect 32 0 1 0;
#X connect 33 0 15 0;
#X connect 34 0 16 0;
#X connect 35 0 20 0;
#X connect 36 0 17 0;
#X connect 37 0 18 0;
#X connect 38 0 19 0;
#X connect 39 0 21 0;
#X connect 40 0 22 0;
#X connect 41 0 23 0;
#X connect 42 0 24 0;
#X connect 43 0 25 0;
#X connect 44 0 26 0;
#X connect 45 0 27 0;
#X connect 46 0 28 0;
#X connect 47 0 29 0;
#X connect 48 0 30 0;
#X connect 49 0 31 0;
#X connect 50 0 32 0;
#X restore 46 240 pd analysis_params;
#X floatatom 15 301 5 0 0 0 - - - 0;
#X msg 520 291 synthtype \$1;
#X obj 520 272 hradio 15 1 0 3 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X obj 706 655 smsedit \$0-blarg;
#N canvas 773 58 450 300 edit-bp 0;
#X obj 178 243 outlet;
#X obj 247 155 t b f;
#X obj 285 156 t b f;
#X floatatom 208 136 5 0 0 2 frame - - 0;
#X floatatom 248 136 5 0 0 2 track - - 0;
#X floatatom 285 136 5 0 0 2 value - - 0;
#X obj 208 156 t b f;
#X msg 178 59 symbol set;
#X msg 178 79 symbol add;
#X msg 178 99 symbol scale;
#X msg 178 214 bp \$1 \$2 \$3 \$4 \$5;
#X obj 68 247 print;
#X msg 108 9 symbol freq;
#X msg 108 28 symbol amp;
#X obj 178 185 pack s s 100 0 0;
#X connect 1 0 14 0;
#X connect 1 1 14 3;
#X connect 2 0 14 0;
#X connect 2 1 14 4;
#X connect 3 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 14 0;
#X connect 6 1 14 2;
#X connect 7 0 14 0;
#X connect 8 0 14 0;
#X connect 9 0 14 0;
#X connect 10 0 0 0;
#X connect 12 0 14 1;
#X connect 13 0 14 1;
#X connect 14 0 10 0;
#X restore 727 481 pd edit-bp;
#X msg 784 632 verbose \$1;
#X msg 279 235 backup;
#X msg 283 260 switch;
#X msg 244 187 frames;
#X msg 38 215 verbose 1;
#X msg 213 163 open \$1;
#X obj 213 142 openpanel;
#X obj 213 125 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 257 211 verbose 1;
#X text 14 16 Step 1: analyze some sound using [smsanal]'s array method or soundfile method. Alternatively \, load a pre-analyzed sound with [smsbuf]'s open method. Either way \, the SMS data is now in [smsbuf] and you can look at the header information with the "info" method or print frame data with the "printframe" method;
#X text 437 27 Step 2: initialize [smssynth~] with the "buffer" method. If it has as its first argument the name of the buffer provided to smsbuf (like all the sms externals need) \, then all you need to do is send it "buffer". Otherwise \, send it the name of the buffer too.;
#X msg 442 171 buffer;
#X text 282 533 Manipulations:;
#X text 282 551 You can transpose what is being synthesized \, or adjust the level of the stochastic component \, with arguments to [smssynth~]. Also \, you can use [smsedit] to hard-edit the data within the [smsbuf] buffer.;
#X text 280 614 Because editing the data will distort the model \, there is an option to make a 'backup' in the [smsbuf]. You can then switch to the backup at any point during synthesis \, or you can use the "converge" method in [smsedit] to gradually move the data back to the original (by averaging).;
#X obj 784 614 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 722 444 converge 20 0.1;
#X msg 706 416 buffer;
#N canvas 0 0 702 491 dac 0;
#X obj 216 271 t b;
#X obj 216 218 f;
#X obj 216 296 f;
#X msg 330 295 0;
#X obj 216 248 moses 1;
#X obj 330 267 t b f;
#X obj 296 228 moses 1;
#X obj -110 -26 dbtorms;
#X obj -110 47 line~;
#X obj -75 119 *~;
#X obj -110 4 pack 0 50;
#X obj 140 157 bng 15 250 50 0 empty mute m 5 8 0 9 #fcfcfc #000000 #000000;
#X obj -38 119 *~;
#X floatatom 126 136 4 0 120 0 dB - - 0;
#X obj 159 103 vsl 15 68 0 110 0 1 empty empty empty 0 -8 0 8 #fcfcfc #000000 #000000 0 0;
#X obj -12 -5 inlet~;
#X obj 54 -8 inlet~;
#X obj -77 156 dac~ 1 2;
#X text -30 -90 Modified output~ to catch in stereo \, with dsp control;
#X obj -4 217 env~ 8092;
#X obj -5 186 *~ 0.5;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 14 0;
#X connect 3 0 14 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 6 1 2 1;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 17 0;
#X connect 9 0 20 0;
#X connect 10 0 8 0;
#X connect 11 0 1 0;
#X connect 12 0 17 1;
#X connect 12 0 20 0;
#X connect 14 0 7 0;
#X connect 14 0 6 0;
#X connect 14 0 1 1;
#X connect 15 0 9 1;
#X connect 16 0 12 1;
#X connect 19 0 13 0;
#X connect 20 0 19 0;
#X coords 0 -1 1 1 75 75 1 100 100;
#X restore 447 363 pd dac;
#X msg 15 163 soundfile \$1;
#X obj 15 142 openpanel;
#X obj 15 125 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 642 236 hsl 200 15 0 100 0 0 empty timebar empty -2 -8 0 10 #fcfcfc #000000 #000000 0 0;
#X floatatom 661 254 5 0 0 0 - - - 0;
#X obj 639 296 line;
#X obj 639 274 pack f 20;
#N canvas 938 540 688 300 edit-everyother 0;
#X obj 99 220 outlet;
#X obj 45 83 t b f;
#X floatatom 9 59 5 0 0 2 frame - - 0;
#X floatatom 45 61 5 0 0 2 midi - - 0;
#X obj 26 17 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 437 88 t b f;
#X floatatom 419 59 5 0 0 2 frame - - 0;
#X floatatom 455 61 5 0 0 2 value - - 0;
#X obj 436 17 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 9 147 everyother transpose \$1 \$2 \$3;
#X obj 9 114 pack 0 0 0;
#X floatatom 92 86 5 0 0 2 firsttrack - - 0;
#X obj 255 83 t b f;
#X floatatom 219 59 5 0 0 2 frame - - 0;
#X floatatom 255 61 5 0 0 2 midi - - 0;
#X obj 236 17 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 219 114 pack 0 0 0;
#X floatatom 302 86 5 0 0 2 firsttrack - - 0;
#X msg 219 147 everyother ampmod \$1 \$2 \$3;
#X msg 419 147 evens ampdev \$1 \$2 \$3;
#X obj 419 114 pack 0 0 0;
#X floatatom 492 86 5 0 0 2 firsttrack - - 0;
#X connect 1 0 10 0;
#X connect 1 1 10 2;
#X connect 2 0 10 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 20 0;
#X connect 5 1 20 2;
#X connect 6 0 20 0;
#X connect 7 0 5 0;
#X connect 8 0 7 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 12 0 16 0;
#X connect 12 1 16 2;
#X connect 13 0 16 0;
#X connect 14 0 12 0;
#X connect 15 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 16 1;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 19 0;
#X connect 21 0 20 1;
#X restore 740 504 pd edit-everyother;
#N canvas 985 101 292 505 oscillate 0;
#X msg 114 407 \; timebar range 0 \$1;
#X obj 44 28 inlet;
#X obj 43 463 outlet;
#X obj 183 76 inlet;
#X obj 43 427 *;
#X obj 43 267 line;
#X msg 44 243 0 \, 1 \$1;
#X obj 43 318 cos;
#X obj 43 352 * -0.5;
#X obj 43 382 + 0.5;
#X obj 43 294 * 6.28318;
#X obj 44 166 metro 2000;
#X obj 44 208 f 2000;
#X obj 99 365 r \$0-frames;
#X obj 105 8 r \$0-frames;
#X obj 120 31 r \$0-rate;
#X obj 105 58 /;
#X floatatom 127 79 5 0 0 0 - - - 0;
#X obj 155 136 * 1;
#X obj 183 98 t b f;
#X floatatom 155 186 5 0 0 0 - - - 0;
#X obj 105 100 * 2000;
#X connect 1 0 11 0;
#X connect 3 0 19 0;
#X connect 4 0 2 0;
#X connect 5 0 10 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 6 0;
#X connect 13 0 0 0;
#X connect 13 0 4 1;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 17 0;
#X connect 16 0 21 0;
#X connect 18 0 11 1;
#X connect 18 0 12 1;
#X connect 18 0 20 0;
#X connect 19 0 18 0;
#X connect 19 1 18 1;
#X connect 21 0 18 0;
#X restore 639 214 pd oscillate;
#X obj 639 195 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X floatatom 708 194 5 0 0 0 - - - 0;
#X text 436 105 Step 3: tell [smssynth~] what frame to synthesize with float arguments. It will interpolate between frames to provide a smooth synthesis (try shift-dragging).;
#X obj 721 -71 cnv 15 60 30 empty empty SMS 10 16 1 20 #dc0038 #fcfcc4 0;
#X obj 23 -63 sms;
#X text 582 -73 RTE - Oct 2008;
#X text 57 -66 library for Spectral Modeling Analysis \, Synthesis and Modifications in pd \, using the libsms C library. You can find updates of this library and everything related at http://mtg.upf.edu/static/libsms;
#X floatatom 315 479 5 0 0 3 frames - \$0-frames 0;
#X floatatom 336 278 5 0 0 0 - - - 0;
#X msg 336 299 gettrack \$1;
#X floatatom 376 480 5 0 0 3 rate - \$0-rate 0;
#X obj 332 412 print info;
#X obj 315 431 list trim;
#X obj 315 457 route nframes framerate ntracks;
#X floatatom 437 479 5 0 0 3 tracks - - 0;
#X obj 193 420 list trim;
#X obj 186 456 route freq;
#X obj 132 496 print freq;
#N canvas 237 316 396 478 edit-every-other-macro 0;
#X msg 74 421 everyother transpose \$1 \$2 \$3;
#X obj 74 388 pack 0 0 0;
#X obj 74 445 outlet;
#N canvas 0 0 450 300 for 0;
#X obj 89 315 until;
#X obj 155 370 f;
#X obj 186 369 + 1;
#X obj 164 139 f \$1;
#X obj 210 140 f \$2;
#X obj 86 93 t b b;
#X obj 86 20 inlet;
#X obj 174 29 inlet;
#X obj 237 29 inlet;
#X obj 155 529 outlet;
#X obj 223 226 <=;
#X obj 231 101 t b f;
#X obj 85 277 spigot;
#X obj 284 225 >;
#X obj 279 315 until;
#X obj 345 370 f;
#X obj 384 446 sel 1;
#X obj 380 477 t b;
#X obj 347 504 f;
#X obj 341 395 t f f;
#X obj 279 294 spigot;
#X obj 376 369 - 1;
#X obj 384 415 <=;
#X obj 221 258 == 0;
#X obj 281 258 == 0;
#X obj 158 450 moses;
#X obj 219 100 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 225 427 + 1;
#X obj 177 481 b;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 25 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 3 0 10 0;
#X connect 3 0 13 0;
#X connect 3 0 15 1;
#X connect 4 0 11 0;
#X connect 4 0 22 1;
#X connect 4 0 27 0;
#X connect 5 0 12 0;
#X connect 5 0 20 0;
#X connect 5 1 3 0;
#X connect 5 1 4 0;
#X connect 6 0 5 0;
#X connect 7 0 3 1;
#X connect 8 0 4 1;
#X connect 10 0 12 1;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 11 0 13 0;
#X connect 11 1 10 1;
#X connect 11 1 13 1;
#X connect 12 0 0 0;
#X connect 13 0 20 1;
#X connect 13 0 24 0;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 15 0 21 0;
#X connect 16 0 14 1;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 19 0 22 0;
#X connect 19 1 18 1;
#X connect 20 0 14 0;
#X connect 21 0 15 1;
#X connect 22 0 16 0;
#X connect 23 0 20 1;
#X connect 24 0 12 1;
#X connect 25 0 9 0;
#X connect 25 1 28 0;
#X connect 26 0 4 0;
#X connect 27 0 25 1;
#X connect 28 0 0 1;
#X restore 86 90 pd for;
#X obj 118 58 nbx 3 14 -1e+37 1e+37 0 1 empty empty frames 0 -8 0 10 #fcfcfc #000000 #000000 100 256;
#X obj 83 43 bng 30 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 77 180 +;
#X obj 99 158 nbx 3 14 -1e+37 1e+37 0 1 empty empty first-frame 0 -8 0 10 #fcfcfc #000000 #000000 70 256;
#X obj 86 117 t f f;
#X obj 186 136 * 6.28319;
#X obj 186 106 / 360;
#X obj 183 314 *;
#X obj 224 261 nbx 3 14 -1e+37 1e+37 0 1 empty empty midi-depth 0 -8 0 10 #fcfcfc #000000 #000000 -2 256;
#X obj 186 187 cos;
#X obj 185 218 - 1;
#X obj 178 252 * 0.5;
#X obj 98 358 nbx 3 14 -1e+37 1e+37 0 1 empty empty first-track 0 -8 0 10 #fcfcfc #000000 #000000 0 256;
#X text 17 4 Hit this after selecting the frames you want to mofify \, and how much frequency to add;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 3 2;
#X connect 4 0 10 1;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 7 0 6 1;
#X connect 8 0 6 0;
#X connect 8 1 10 0;
#X connect 9 0 13 0;
#X connect 10 0 9 0;
#X connect 11 0 1 2;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 16 0 1 1;
#X restore 736 545 pd edit-every-other-macro;
#N canvas 175 344 738 478 edit-range-macro 0;
#X obj 74 445 outlet;
#N canvas 0 0 450 300 for 0;
#X obj 89 315 until;
#X obj 155 370 f;
#X obj 186 369 + 1;
#X obj 164 139 f \$1;
#X obj 210 140 f \$2;
#X obj 86 93 t b b;
#X obj 86 20 inlet;
#X obj 174 29 inlet;
#X obj 237 29 inlet;
#X obj 155 529 outlet;
#X obj 223 226 <=;
#X obj 231 101 t b f;
#X obj 85 277 spigot;
#X obj 284 225 >;
#X obj 279 315 until;
#X obj 345 370 f;
#X obj 384 446 sel 1;
#X obj 380 477 t b;
#X obj 347 504 f;
#X obj 341 395 t f f;
#X obj 279 294 spigot;
#X obj 376 369 - 1;
#X obj 384 415 <=;
#X obj 221 258 == 0;
#X obj 281 258 == 0;
#X obj 158 450 moses;
#X obj 219 100 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 225 427 + 1;
#X obj 177 481 b;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 25 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 3 0 10 0;
#X connect 3 0 13 0;
#X connect 3 0 15 1;
#X connect 4 0 11 0;
#X connect 4 0 22 1;
#X connect 4 0 27 0;
#X connect 5 0 12 0;
#X connect 5 0 20 0;
#X connect 5 1 3 0;
#X connect 5 1 4 0;
#X connect 6 0 5 0;
#X connect 7 0 3 1;
#X connect 8 0 4 1;
#X connect 10 0 12 1;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 11 0 13 0;
#X connect 11 1 10 1;
#X connect 11 1 13 1;
#X connect 12 0 0 0;
#X connect 13 0 20 1;
#X connect 13 0 24 0;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 15 0 21 0;
#X connect 16 0 14 1;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 19 0 22 0;
#X connect 19 1 18 1;
#X connect 20 0 14 0;
#X connect 21 0 15 1;
#X connect 22 0 16 0;
#X connect 23 0 20 1;
#X connect 24 0 12 1;
#X connect 25 0 9 0;
#X connect 25 1 28 0;
#X connect 26 0 4 0;
#X connect 27 0 25 1;
#X connect 28 0 0 1;
#X restore 86 90 pd for;
#X obj 83 43 bng 30 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 77 180 +;
#X obj 99 158 nbx 3 14 -1e+37 1e+37 0 1 empty empty first-frame 0 -8 0 10 #fcfcfc #000000 #000000 70 256;
#X obj 86 117 t f f;
#X obj 88 316 nbx 3 14 -1e+37 1e+37 0 1 empty empty first-track 0 -8 0 10 #fcfcfc #000000 #000000 1 256;
#X text 17 4 Hit this after selecting the frames you want to mofify \, and how much frequency to add;
#X msg 74 421 range transpose \$1 \$2 \$3 \$4;
#X obj 106 364 nbx 3 14 -1e+37 1e+37 0 1 empty empty last-track 0 -8 0 10 #fcfcfc #000000 #000000 5 256;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-curve 100 float 1;
#A 0 0 -0.000986636 -0.00394267 -0.00885639 -0.0157084 -0.0244718 -0.0351118 -0.0475865 -0.0618467 -0.0778362 -0.0954916 -0.114744 -0.135516 -0.157727 -0.181288 -0.206108 -0.232087 -0.259124 -0.287111 -0.315938 -0.345492 -0.375655 -0.40631 -0.437334 -0.468605 -0.500001 -0.531396 -0.562667 -0.593691 -0.624346 -0.654509 -0.684063 -0.71289 -0.740878 -0.767914 -0.793893 -0.818713 -0.842274 -0.864485 -0.885257 -0.904509 -0.922164 -0.938154 -0.952414 -0.964889 -0.975529 -0.984292 -0.991144 -0.996058 -0.999013 -1 -0.999013 -0.996057 -0.991143 -0.984291 -0.975528 -0.964888 -0.952413 -0.938153 -0.922163 -0.904508 -0.885256 -0.864483 -0.842273 -0.818711 -0.793892 -0.767912 -0.740875 -0.712888 -0.684061 -0.654507 -0.624343 -0.593689 -0.562665 -0.531394 -0.499998 -0.468603 -0.437332 -0.406308 -0.375653 -0.34549 -0.315936 -0.287109 -0.259122 -0.232085 -0.206106 -0.181286 -0.157725 -0.135514 -0.114742 -0.0954904 -0.0778349 -0.0618456 -0.0475855 -0.035111 -0.0244711 -0.0157079 -0.00885597 -0.00394237 0;
#X coords 0 1 99 -1 200 140 1;
#X restore 474 311 graph;
#X obj 74 390 pack 0 1 5 0;
#X obj 548 30 nbx 3 14 -1e+37 1e+37 0 1 empty empty frames 0 -8 0 10 #fcfcfc #000000 #000000 100 256;
#X obj 526 205 bng 30 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#N canvas 0 0 450 442 make-cosine 0;
#X obj 102 49 inlet;
#X obj 231 50 inlet;
#N canvas 0 0 450 300 for 0;
#X obj 89 315 until;
#X obj 155 370 f;
#X obj 186 369 + 1;
#X obj 164 139 f \$1;
#X obj 210 140 f \$2;
#X obj 86 93 t b b;
#X obj 86 20 inlet;
#X obj 174 29 inlet;
#X obj 237 29 inlet;
#X obj 155 529 outlet;
#X obj 223 226 <=;
#X obj 231 101 t b f;
#X obj 85 277 spigot;
#X obj 284 225 >;
#X obj 279 315 until;
#X obj 345 370 f;
#X obj 384 446 sel 1;
#X obj 380 477 t b;
#X obj 347 504 f;
#X obj 341 395 t f f;
#X obj 279 294 spigot;
#X obj 376 369 - 1;
#X obj 384 415 <=;
#X obj 221 258 == 0;
#X obj 281 258 == 0;
#X obj 158 450 moses;
#X obj 219 100 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 225 427 + 1;
#X obj 177 481 b;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 25 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 3 0 10 0;
#X connect 3 0 13 0;
#X connect 3 0 15 1;
#X connect 4 0 11 0;
#X connect 4 0 22 1;
#X connect 4 0 27 0;
#X connect 5 0 12 0;
#X connect 5 0 20 0;
#X connect 5 1 3 0;
#X connect 5 1 4 0;
#X connect 6 0 5 0;
#X connect 7 0 3 1;
#X connect 8 0 4 1;
#X connect 10 0 12 1;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 11 0 13 0;
#X connect 11 1 10 1;
#X connect 11 1 13 1;
#X connect 12 0 0 0;
#X connect 13 0 20 1;
#X connect 13 0 24 0;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 15 0 21 0;
#X connect 16 0 14 1;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 19 0 22 0;
#X connect 19 1 18 1;
#X connect 20 0 14 0;
#X connect 21 0 15 1;
#X connect 22 0 16 0;
#X connect 23 0 20 1;
#X connect 24 0 12 1;
#X connect 25 0 9 0;
#X connect 25 1 28 0;
#X connect 26 0 4 0;
#X connect 27 0 25 1;
#X connect 28 0 0 1;
#X restore 116 100 pd for;
#X obj 116 127 t f f;
#X obj 90 211 * 6.28319;
#X obj 90 181 / 360;
#X obj 90 232 cos;
#X obj 89 263 - 1;
#X obj 107 345 tabwrite \$0-curve;
#X obj 82 297 * 0.5;
#X connect 0 0 2 0;
#X connect 1 0 2 2;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 8 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 9 0 8 0;
#X restore 514 261 pd make-cosine;
#X obj 575 67 s \$0-frames;
#X obj 565 124 s \$0-curver;
#X msg 567 99 resize \$1;
#X obj 601 224 r \$0-frames;
#X obj 136 60 r \$0-frames;
#X obj 165 218 tabread \$0-curve;
#X obj 176 288 * 1;
#X obj 197 261 nbx 3 14 -1e+37 1e+37 0 1 empty empty depth(midi) 0 -8 0 10 #fcfcfc #000000 #000000 3 256;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 11 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X connect 5 1 20 0;
#X connect 6 0 11 1;
#X connect 8 0 0 0;
#X connect 9 0 11 2;
#X connect 11 0 8 0;
#X connect 12 0 15 0;
#X connect 12 0 17 0;
#X connect 13 0 14 0;
#X connect 17 0 16 0;
#X connect 18 0 14 1;
#X connect 19 0 1 2;
#X connect 20 0 21 0;
#X connect 21 0 11 3;
#X connect 22 0 21 1;
#X restore 746 565 pd edit-range-macro;
#X msg 287 366 save /tmp/test.sms;
#X msg 380 222 verbose 1;
#X msg 8 528 open ../../trunk/tools/soopastar.sms;
#X msg 310 175 print;
#X obj 15 103 declare -lib sms;
#X connect 0 0 62 0;
#X connect 0 1 58 0;
#X connect 0 1 59 0;
#X connect 1 0 37 0;
#X connect 1 0 37 1;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 10 0 0 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 15 0 1 0;
#X connect 16 0 15 0;
#X connect 18 0 17 0;
#X connect 19 0 17 0;
#X connect 20 0 0 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 23 0 8 0;
#X connect 24 0 0 0;
#X connect 25 0 24 0;
#X connect 26 0 25 0;
#X connect 27 0 0 0;
#X connect 30 0 1 0;
#X connect 34 0 19 0;
#X connect 35 0 17 0;
#X connect 36 0 17 0;
#X connect 38 0 8 0;
#X connect 39 0 38 0;
#X connect 40 0 39 0;
#X connect 41 0 42 0;
#X connect 41 0 44 0;
#X connect 43 0 1 0;
#X connect 44 0 43 0;
#X connect 45 0 17 0;
#X connect 46 0 41 0;
#X connect 47 0 46 0;
#X connect 48 0 46 1;
#X connect 55 0 56 0;
#X connect 56 0 0 0;
#X connect 59 0 60 0;
#X connect 60 0 54 0;
#X connect 60 1 57 0;
#X connect 60 2 61 0;
#X connect 62 0 63 0;
#X connect 63 0 64 0;
#X connect 65 0 17 0;
#X connect 66 0 17 0;
#X connect 67 0 0 0;
#X connect 68 0 1 0;
#X connect 69 0 0 0;
#X connect 70 0 0 0;
